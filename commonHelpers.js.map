{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//++simplelightbox\nimport SimpleLightbox from 'simplelightbox';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//--simplelightbox\n\n\n//++myForm\nconst myForm = document.querySelector('form');\nconst messageLoad = document.getElementById('searchImageText');\nlet imageArray; \n\nmyForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchInput = document.getElementById('searchImage');\n  const inputValue = searchInput.value;\n\n  if (inputValue.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter what you want to find!',\n      position: 'topRight',\n    });\n    return;\n  } else {\n    showHidemessageLoad();\n    getImage(inputValue)\n      .then(posts => {\n        imageArray = posts;\n        if (imageArray.length === 0) {\n          showHidemessageLoad();\n          iziToast.info({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        } else {\n          showHidemessageLoad();\n          openLightbox(imageArray);\n          console.log(imageArray);\n          // myForm.reset();\n        }\n        \n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n});\n//--myForm\n\n\n\n//++pixabay\nfunction getImage(inputValue) {\n  const API_KEY = '25736683-f5d7a17cce89782c978955728';\n  const URL ='https://pixabay.com/api/?key='+API_KEY+'&q='+encodeURIComponent(inputValue)+'&image_type=photo&orientation=horizontal&safe_search=true&per_page=9';\n\n  return fetch(URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(posts => {\n      return posts.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      throw error; \n    });\n}\n//--pixabay\n\n\n//++Керування відображенням напису завантаження\nfunction showHidemessageLoad() {\n  messageLoad.classList.toggle('isHidden');\n}\n//--Керування відображенням напису завантаження\n\n\n\n//++Формування структури галереї\nfunction openLightbox(imageArray) {\n  \n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n  const fragment = document.createDocumentFragment();\n  \n  for (let img of imageArray) {\n    const listItem = document.createElement('li');\n    listItem.classList.add('gallery-item');\n\n    const listLink = document.createElement('a');\n    listLink.classList.add('gallery-link');\n    listLink.href = img.largeImageURL;\n\n    const imgElement = document.createElement('img');\n    imgElement.classList.add('gallery-image');\n\n    imgElement.src = img.webformatURL;\n    imgElement.setAttribute('data-source', img.largeImageURL);\n    imgElement.alt = img.tags;\n\n    listLink.appendChild(imgElement);\n    listItem.appendChild(listLink);\n    fragment.appendChild(listItem);\n  }\n\n  gallery.appendChild(fragment);\n  galleryDll.refresh();\n  \n  let options = {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captions: true,\n};\n\nlet galleryDll = new SimpleLightbox('.gallery a', options);\ngalleryDll.on('show.simplelightbox', function () {});\n}\n\n\n"],"names":["myForm","messageLoad","imageArray","event","inputValue","iziToast","showHidemessageLoad","getImage","posts","openLightbox","error","URL","response","gallery","fragment","img","listItem","listLink","imgElement","galleryDll","options","SimpleLightbox"],"mappings":"6vBAWA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAc,SAAS,eAAe,iBAAiB,EAC7D,IAAIC,EAEJF,EAAO,iBAAiB,SAAUG,GAAS,CACzCA,EAAM,eAAc,EAGpB,MAAMC,EADc,SAAS,eAAe,aAAa,EAC1B,MAE/B,GAAIA,EAAW,KAAM,IAAK,GAAI,CAC5BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCACT,SAAU,UAChB,CAAK,EACD,MACJ,MACIC,IACAC,EAASH,CAAU,EAChB,KAAKI,GAAS,CACbN,EAAaM,EACTN,EAAW,SAAW,GACxBI,IACAD,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAW,IAEDC,IACAG,EAAaP,CAAU,EACvB,QAAQ,IAAIA,CAAU,EAIhC,CAAO,EACA,MAAMQ,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CAEP,CAAC,EAMD,SAASH,EAASH,EAAY,CAE5B,MAAMO,EAAK,gCADK,qCACmC,MAAM,mBAAmBP,CAAU,EAAE,uEAExF,OAAO,MAAMO,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKJ,GACGA,EAAM,IACd,EACA,MAAME,GAAS,CACd,cAAQ,IAAIA,CAAK,EACXA,CACZ,CAAK,CACL,CAKA,SAASJ,GAAsB,CAC7BL,EAAY,UAAU,OAAO,UAAU,CACzC,CAMA,SAASQ,EAAaP,EAAY,CAEhC,MAAMW,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GACpB,MAAMC,EAAW,SAAS,yBAE1B,QAASC,KAAOb,EAAY,CAC1B,MAAMc,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,cAAc,EAErC,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAU,IAAI,cAAc,EACrCA,EAAS,KAAOF,EAAI,cAEpB,MAAMG,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,eAAe,EAExCA,EAAW,IAAMH,EAAI,aACrBG,EAAW,aAAa,cAAeH,EAAI,aAAa,EACxDG,EAAW,IAAMH,EAAI,KAErBE,EAAS,YAAYC,CAAU,EAC/BF,EAAS,YAAYC,CAAQ,EAC7BH,EAAS,YAAYE,CAAQ,CAC9B,CAEDH,EAAQ,YAAYC,CAAQ,EAC5BK,EAAW,QAAO,EAElB,IAAIC,EAAU,CACd,aAAc,MACd,aAAc,IACd,SAAU,EACZ,EAEID,EAAa,IAAIE,EAAe,aAAcD,CAAO,EACzDD,EAAW,GAAG,sBAAuB,UAAY,CAAA,CAAE,CACnD"}