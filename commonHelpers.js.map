{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//++simplelightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n//--simplelightbox\n\n//++myForm\nconst myForm = document.querySelector('form');\nconst messageLoad = document.getElementById('searchImageText');\nconst container = document.querySelector('.container-image');\n\nlet imageArray;\n\nmyForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchInput = document.getElementById('searchImage');\n  const inputValue = searchInput.value;\n\n  if (inputValue.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter what you want to find!',\n      position: 'topRight',\n    });\n    return;\n  } else {\n    showHidemessageLoad();\n    getImage(inputValue)\n      .then(posts => {\n        imageArray = posts;\n        if (imageArray.length === 0) {\n          showHidemessageLoad();\n          iziToast.info({\n            title: 'Info',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        } else {\n          showHidemessageLoad();\n          render();\n          openLightbox();\n          // console.log(imageArray);\n          // myForm.reset();\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n});\n//--myForm\n\n//++pixabay\nfunction getImage(inputValue) {\n  const API_KEY = '25736683-f5d7a17cce89782c978955728';\n  const URL =\n    'https://pixabay.com/api/?key=' +\n    API_KEY +\n    '&q=' +\n    encodeURIComponent(inputValue) +\n    '&image_type=photo&orientation=horizontal&safe_search=true&per_page=9';\n\n  return fetch(URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(posts => {\n      return posts.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      throw error;\n    });\n}\n//--pixabay\n\n//++Керування відображенням напису завантаження\nfunction showHidemessageLoad() {\n  messageLoad.classList.toggle('isHidden');\n}\n//--Керування відображенням напису завантаження\n\n//++Рендер структури галереї в.2\nfunction productTemplate(item) {\n  return `<div class=\"photo-card\">\n    <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n      <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" class=\"gallery-image\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes:</b> ${item.likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views:</b> ${item.views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments:</b> ${item.comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads:</b> ${item.downloads}\n      </p>\n    </div>\n  </div>`;\n}\n\nfunction productListTemplate() {\n  return imageArray.map(productTemplate).join('');\n}\n\nfunction render() {\n  const markup = productListTemplate();\n  container.innerHTML = markup;\n  console.log('render');\n}//--\n\n\n\n//++Формування структури галереї\nfunction openLightbox() {\n  ////v.1\n  // const gallery = document.querySelector('.gallery');\n  // gallery.innerHTML = '';\n  // const fragment = document.createDocumentFragment();\n\n  // for (let img of imageArray) {\n  //   const listItem = document.createElement('li');\n  //   listItem.classList.add('gallery-item');\n\n  //   const listLink = document.createElement('a');\n  //   listLink.classList.add('gallery-link');\n  //   listLink.href = img.largeImageURL;\n\n  //   const imgElement = document.createElement('img');\n  //   imgElement.classList.add('gallery-image');\n\n  //   imgElement.src = img.webformatURL;\n  //   imgElement.setAttribute('data-source', img.largeImageURL);\n  //   imgElement.alt = img.tags;\n\n  //   listLink.appendChild(imgElement);\n  //   listItem.appendChild(listLink);\n  //   fragment.appendChild(listItem);\n  // }\n\n  // gallery.appendChild(fragment);\n\n  ////v.2\n  \n\n  let options = {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captions: true,\n  };\n\n  let galleryDll = new SimpleLightbox('.container-image a', options);\n  galleryDll.on('show.simplelightbox', function () {});\n  galleryDll.refresh();\n}\n"],"names":["myForm","messageLoad","container","imageArray","event","inputValue","iziToast","showHidemessageLoad","getImage","posts","render","openLightbox","error","URL","response","productTemplate","item","productListTemplate","markup","options","galleryDll","SimpleLightbox"],"mappings":"6vBAUA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAc,SAAS,eAAe,iBAAiB,EACvDC,EAAY,SAAS,cAAc,kBAAkB,EAE3D,IAAIC,EAEJH,EAAO,iBAAiB,SAAUI,GAAS,CACzCA,EAAM,eAAc,EAGpB,MAAMC,EADc,SAAS,eAAe,aAAa,EAC1B,MAE/B,GAAIA,EAAW,KAAM,IAAK,GAAI,CAC5BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCACT,SAAU,UAChB,CAAK,EACD,MACJ,MACIC,IACAC,EAASH,CAAU,EAChB,KAAKI,GAAS,CACbN,EAAaM,EACTN,EAAW,SAAW,GACxBI,IACAD,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACF,SAAU,UACtB,CAAW,IAEDC,IACAG,IACAC,IAIV,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CAEP,CAAC,EAID,SAASJ,EAASH,EAAY,CAE5B,MAAMQ,EACJ,gCAFc,qCAId,MACA,mBAAmBR,CAAU,EAC7B,uEAEF,OAAO,MAAMQ,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKL,GACGA,EAAM,IACd,EACA,MAAMG,GAAS,CACd,cAAQ,IAAIA,CAAK,EACXA,CACZ,CAAK,CACL,CAIA,SAASL,GAAsB,CAC7BN,EAAY,UAAU,OAAO,UAAU,CACzC,CAIA,SAASc,EAAgBC,EAAM,CAC7B,MAAO;AAAA,eACMA,EAAK;AAAA,kBACFA,EAAK,sBAAsBA,EAAK;AAAA;AAAA;AAAA;AAAA,wBAI1BA,EAAK;AAAA;AAAA;AAAA,wBAGLA,EAAK;AAAA;AAAA;AAAA,2BAGFA,EAAK;AAAA;AAAA;AAAA,4BAGJA,EAAK;AAAA;AAAA;AAAA,SAIjC,CAEA,SAASC,GAAsB,CAC7B,OAAOd,EAAW,IAAIY,CAAe,EAAE,KAAK,EAAE,CAChD,CAEA,SAASL,GAAS,CAChB,MAAMQ,EAASD,IACff,EAAU,UAAYgB,EACtB,QAAQ,IAAI,QAAQ,CACtB,CAKA,SAASP,GAAe,CA+BtB,IAAIQ,EAAU,CACZ,aAAc,MACd,aAAc,IACd,SAAU,EACd,EAEMC,EAAa,IAAIC,EAAe,qBAAsBF,CAAO,EACjEC,EAAW,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACnDA,EAAW,QAAO,CACpB"}